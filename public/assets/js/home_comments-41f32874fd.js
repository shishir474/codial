{let e=function(){let e=$("#new-comment-form");e.submit((function(t){t.preventDefault(),$.ajax({method:"POST",url:"/comment/create",data:e.serialize(),success:function(e){console.log(e);let t=n(e.data.comment);$("#post-comments-list > ul").prepend(t),console.log(t),o($(" .delete-comment-button",t)),console.log("comment creation success handler"),new ToggleLike($(" .toggle-like-button",t)),new Noty({theme:"relax",text:"Comment published!",type:"success",layout:"topRight",timeout:1500}).show()},error:function(e){console.log(e.responseText)}})}))},n=function(e){return $(`    \n                 <div id="comment-${e._id}" style="margin-bottom:8px;"> \n                        <small>\n                            <a class='delete-comment-button' href="/comment/destroy/${e._id}">X</a>\n                        </small>\n                \n                        <span> ${e.content} <span>\n                        <br>\n                        <small>\n                            ${e.user.name}\n                        </small><br>\n\n                        <small>\n                            <a class="toggle-like-button" data-likes="0"  href= "/likes/toggle/?id=${e._id}&type=comment" id="likebtn"> \n                                0 Likes\n                            </a>\n                        </small>\n                </div> `)},o=function(e){console.log(e),$(e).click((function(n){console.log("inside delete function"),n.preventDefault(),console.log("sending ajax req"),$.ajax({method:"GET",url:$(e).prop("href"),success:function(e){console.log("in success handler"),console.log(e),$("#comment-"+e.data.comment_id).remove(),new Noty({theme:"relax",text:"Comment Deleted",type:"success",layout:"topRight",timeout:1500}).show()},error:function(e){console.log("in error handler"),console.log(e.responseText)}})}))};e()}